input {
  beats {
    port => 5044
  }
}

filter {

  date {
    match => ["timeMillis", "UNIX_MS"]
    target => "@timestamp"
    remove_field => ["timeMillis"]
  }

  mutate {
    remove_field => ["@version", "host", "input", "ecs", "log", "loggerFqcn", "threadPriority", "endOfBatch"]
  }
}

output {
  opensearch {
    hosts => ["https://opensearch:9200"]
    index => "forex-data-collector-%{+YYYY.MM.dd}"
    user => "admin"
    password => "Yusuf.32Bits"
    ssl_certificate_verification => false
  }
}
